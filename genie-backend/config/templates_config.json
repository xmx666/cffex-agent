{
	"domains":[
		{
			"id":"default",
			"name":"通用"
		},
		{
			"id":"data-analysis",
			"name":"数据分析"
		},
		{
			"id":"domain_1764729263985",
			"name":"AItelemetry"
		},
		{
			"id":"domain_1764746416220",
			"name":"基座模型服务洞察"
		}
	],
	"selectedTemplateIds":[],
	"templateList":[
		{
			"content":"test",
			"createdAt":1764729061921,
			"description":"test",
			"domainId":"default",
			"enabled":true,
			"id":"template_1764729061921",
			"name":"xiemx",
			"updatedAt":1764729061921
		},
		{
			"content":"## 数据库表结构说明 (Schema)\n\n## 表内容信息信息\n- 表ods_telemetry.cai_api_use 大模型服务调用的日志表，记录用户调用大模型的每一条记录，包含apikey、model_name、question、response、token等信息，由于question和response内容超长，只有进行服务异常分析时才调用\n- 表ods_telemetry.cai_app_info 应用信息表，描述AI应用信息，包括应用名称、说明，对应的开发人员、部门、apikey等\n- 表ods_telemetry.cai_gpu_info GPU信息表，描述当前服务器GPU的模型部署情况，能精确说明当前某个服务器上某张gpu卡部署了什么模型\n- 表ods_telemetry.cai_gpu_monitor GPU监控表，描述GPU硬件情况，包括各历史时刻部署的模型情况，以及显存占用、温度、风扇、电力等\n- 表ods_telemetry.cai_model_info 模型信息表，描述模型说明情况，包括模型名称、模型描述、上下线时间、参数配置等\n\n## 表间血缘关系\n- `ods_telemetry.cai_api_use` 的上游来源包括: `ods_telemetry.cai_app_info`（关联字段：`api_key` = `api_key`）, `ods_telemetry.cai_model_info`（关联字段：`model_name` = `model_name`）\n- `ods_telemetry.cai_gpu_info` 的上游来源包括: `ods_telemetry.cai_api_use`（关联字段：`model_name` = `model_name`、`endpoint` = `endpoint`）, `ods_telemetry.cai_model_info`（关联字段：`model_name` = `model_name`）\n- `ods_telemetry.cai_gpu_monitor` 的上游来源包括: `ods_telemetry.cai_gpu_info`（关联字段：`ip_address` = `ip_address`、`gpu_index` = `gpu_index`、`area` = `area`）, `ods_telemetry.cai_api_use`（关联字段：`gpu_model_name` = `model_name`、`gpu_type` = `gpu_type`、`ip_address` = `ip_address`、`gpu_index` = `gpu_index`、`update_time` = `update_time`）\n\n\n### 表名: `ods_telemetry.cai_api_use`\n**包含字段:**\n  └─ `update_time` (datetime, 注释: 调用时间)\n  └─ `user_name` (varchar, 注释: 用户名)\n  └─ `department` (varchar, 注释: 用户部门)\n  └─ `services` (varchar, 注释: 调用服务)\n  └─ `model_name` (varchar, 注释: 使用的模型)\n  └─ `endpoint` (varchar, 注释: 调用的服务端点)\n  └─ `api_key` (varchar, 注释: 本次使用的api-key)\n  └─ `latency` (decimal, 注释: 生成用时)\n  └─ `token` (int, 注释: 本次调用总token数)\n  └─ `prompt_token` (int, 注释: 输入的token数)\n  └─ `completion_token` (int, 注释: 输出的token数)\n  └─ `question` (varchar, 注释: 用户大模型输入，通常有上千字符，只有分析error日志时调用，其他时候不做调用)\n  └─ `response` (varchar, 注释: 用户大模型生成的回复，通常有上千字符，只有分析error日志时调用，其他时候不做调用)\n  └─ `full_question` (varchar, 注释: 完整的输入)\n\n### 表名: `ods_telemetry.cai_app_info`\n**包含字段:**\n  └─ `app_name` (varchar, 注释:应用名称)\n  └─ `area` (varchar, 注释: 网络区域)\n  └─ `domain` (varchar, 注释: 应用领域)\n  └─ `app_description` (varchar, 注释: 应用描述)\n  └─ `app_status` (varchar, 注释: 应用状态，有已上线、开发中)\n  └─ `app_value` (varchar, 注释: 测评情况)\n  └─ `demand_department` (varchar, 注释: 需求部门)\n  └─ `related_system` (varchar, 注释: 关联系统)\n  └─ `demand_user_name` (varchar, 注释: 需求对接人)\n  └─ `cx_user_name` (varchar, 注释: 创新实验室对接人)\n  └─ `api_key` (varchar, 注释: 本次使用的api-key)\n  └─ `old_api_key` (varchar, 注释: 旧的api-key)\n  └─ `model_name` (varchar, 注释: 使用的模型)\n  └─ `update_time` (datetime, 注释: 调用时间)\n  └─ `dev_department` (varchar, 注释: 开发部门)\n  └─ `checklist_status` (varchar)\n\n### 表名: `ods_telemetry.cai_gpu_info`\n**包含字段:**\n  └─ `ip_address` (varchar, 注释: 网络区域)\n  └─ `gpu_index` (varchar, 注释: gpu号)\n  └─ `area` (varchar, 注释: 网络区域)\n  └─ `gpu_type` (varchar, 注释: gpu型号)\n  └─ `model_name` (varchar, 注释: 使用的模型)\n  └─ `model_type` (varchar, 注释: 模型类别，有推理模型、通用模型)\n  └─ `update_time` (datetime, 注释: 更新时间)\n\n### 表名: `ods_telemetry.cai_gpu_monitor`\n**包含字段:**\n  └─ `area` (varchar, 注释: 网络区域)\n  └─ `ip_address` (varchar, 注释: ip地址)\n  └─ `gpu_index` (int, 注释: gpu号)\n  └─ `update_time` (datetime, 注释: 更新时间)\n  └─ `gpu_type` (varchar, 注释: gpu型号)\n  └─ `gpu_model_name` (varchar, 注释: 部署模型)\n  └─ `gpu_memory_used` (decimal, 注释: 显存使用量)\n  └─ `gpu_memory_total` (decimal, 注释: 显存总量)\n  └─ `gpu_utilization` (decimal, 注释: gpu使用率)\n  └─ `gpu_temperature` (decimal, 注释: gpu温度)\n  └─ `gpu_fan_speed` (decimal, 注释: gpu风速)\n  └─ `gpu_power_draw` (decimal, 注释: gpu功率使用量)\n  └─ `gpu_power_limit` (decimal, 注释: gpu功率限制)\n  └─ `process_pid` (int, 注释: 进程pid)\n  └─ `process_username` (varchar, 注释: 进程用户名)\n  └─ `process_comand` (varchar, 注释: 进程命令)\n  └─ `cpu_utilization` (decimal, 注释: cpu使用率)\n  └─ `cpu_core_count` (int, 注释: cpu核数)\n  └─ `memory_used` (decimal, 注释: 内存使用量)\n  └─ `memory_total` (decimal, 注释: 内存总量)\n\n\n### 表名: `ods_telemetry.cai_model_info`\n**包含字段:**\n  └─ `model_id` (int)\n  └─ `model_name` (varchar, 注释: 模型名称)\n  └─ `display_name` (varchar, 注释: 模型具体展示名)\n  └─ `deploy_time` (datetime, 注释: 部署时间)\n  └─ `model_type` (varchar, 注释: 模型类型，推理/通用/多模特/代码模型)\n  └─ `status` (varchar, 注释: 模型状态，上线online/下线offline)\n  └─ `update_time` (datetime, 注释: 更新时间)\n  └─ `description` (varchar, 注释: 模型详细介绍)\n  └─ `other_info` (varchar, 注释: 模型下线信息)\n  └─ `features` (varchar, 注释: 模型特点)\n  └─ `developer` (varchar, 注释: 模型运维方)\n  └─ `tpm_limit` (int, 注释: tpm限制)\n  └─ `qpm_limit` (int, 注释: qpm限制)\n  └─ `model_para` (int, 注释: 模型参数量，单位B)\n  └─ `context_length` (int, 注释: 模型支持的上下文长度，单位K)",
			"createdAt":1764729271118,
			"domainId":"domain_1764729263985",
			"enabled":true,
			"id":"template_1764729271118",
			"name":"基座模型数据库schema",
			"updatedAt":1764730887316
		},
		{
			"content":"你是一名智能应用优化顾问，请你获取7天各应用模型调用数据，并结合以下几点进行数据分析：\n -如果有不同app的avg_prompt_token十分接近（相差500token以内），或avg_completion_token十分接近（相差150token以内），则可以考虑合并两个app\n -如果有app的调用次数total_calls显著高于其他app，可以考虑分配更多资源\n -如果有调用次数明显较少的app，请指出app_name\n -如果用调用次数明显较少的app，且使用glm45、deepseek这种高成本模型，请指出",
			"createdAt":1764729580707,
			"domainId":"domain_1764746416220",
			"enabled":true,
			"id":"template_1764729580707",
			"name":"大模型应用洞察模板",
			"updatedAt":1764746457633
		},
		{
			"content":"请通过以下思路进行大模型服务异常排错：\n1、在cai_api_use中找到对应的报错信息记录，查看对应的question、response。是否能根据这些信息分析报错原因，如果可以，直接结束流程；如果不可以继续往下排查。\n2、通过cai_api_use获取报错信息的模型、apikey以及报错时间段。在cai_gpu_info中查看对应的硬件信息。在cai_gpu_monitor表中查看对应模型、对应时间段是否有硬件层面异常。\n3、在model_metrics_15seconds表中查看对应模型、对应时间段内容。是否能找到异常情况。\n综合分析上述内容，进行异常原因追溯和分析，给出排错建议。",
			"createdAt":1764730860257,
			"domainId":"domain_1764746416220",
			"enabled":true,
			"id":"template_1764730860257",
			"name":"大模型排障模板",
			"updatedAt":1764746458662
		},
		{
			"content":"## 数据库表结构说明 (Schema)\n\n## 表内容信息\n- 表ods_telemetry.model_metrics_15seconds为中间件vllm指标15s的切片日志\n\n### 表名: `ods_telemetry.model_metrics_15seconds`\n**包含字段:**\n  └─ `update_time` (datetime, 注释:更新时间)\n  └─ `metric_name` (varchar, 注释:指标名称)\n  └─ `metric_value` (varchar, 注释:指标值)\n  └─ `model_name` (varchar, 注释:模型名称)\n  └─ `origin_label` (varchar, 注释:vllm原始标签)",
			"createdAt":1764741420602,
			"domainId":"domain_1764729263985",
			"enabled":true,
			"id":"template_1764741420602",
			"name":"中间件数据库schema",
			"updatedAt":1764741420602
		},
		{
			"content":"## 数据库表结构说明 (Schema)\n\n## 表内容信息信息\n- 表ods_telemetry.lingma_developer_members 小金灵码插件用户成员信息表\n- 表ods_telemetry.lingma_feedbacks_info 小金灵码插件用户反馈与意见收集表，点踩反馈\n- 表ods_telemetry.lingma_statistics_info 小金灵码插件系统使用统计汇总表，成员使用数据列表\n- 表ods_telemetry.lingma_chat_info 小金灵码插件端经过lingma-chat-base服务请求的记录表，覆盖自由问答，代码问答，提交信息生成等多种功能入口\n- 表ods_telemetry.lingma_coding_info 小金灵码插件所有生成代码的记录表，有代码推荐补全代码和侧边栏问答生成代码这2个入口。\n- 表ods_telemetry.lingma_completion_info 小金灵码插件端经过lingma-completion服务请求的记录表，只有代码推荐补全这1个入口\n\n## 表间血缘关系\n- `ods_telemetry.lingma_chat_info` 的**上游来源**包括: `ods_telemetry.lingma_developer_members`，关联字段为user_id\n- `ods_telemetry.lingma_coding_info` 的**上游来源**包括: `ods_telemetry.lingma_developer_members`，关联字段为user_id\n- `ods_telemetry.lingma_feedbacks_info` 的**上游来源**包括: `ods_telemetry.lingma_developer_members`，关联字段为user_id\n- `ods_telemetry.lingma_statistics_info` 的**上游来源**包括: `ods_telemetry.lingma_chat_info`(关联字段为lingma_statistics_info.totalChatTurns-->lingma_chat_info.chat_turns), `ods_telemetry.lingma_coding_info`(关联字段为lingma_statistics_info.totalLinesChanged-->lingma_chat_info.lines_accepted等), `ods_telemetry.lingma_completion_info`（关联字段为lingma_statistics_info.statusActiveCompletion-->lingma_chat_info等）, `ods_telemetry.lingma_developer_members`关联字段为user_id\n\n### 表名: `ods_telemetry.lingma_chat_info`\n**包含字段:**\n  └─ `uuid` (varchar, 注释: 聊天会话 ID)\n  └─ `user_id` (varchar, 注释: 用户 ID)\n  └─ `display_name` (varchar, 注释: 用户LDAP账号名)\n  └─ `chat_type` (varchar, 注释: 问答类型，CODE_GENERATE_COMMENT（代码注释），GENERATE_TESTCASE（单元测试），EXPLAIN_CODE（代码解释），OPTIMIZE_CODE（代码优化），FREE_INPUT（自由问答），非大写字母串（自定义指令）。)\n  └─ `chat_turns` (int, 注释: 问答次数)\n  └─ `ide` (varchar, 注释: IDE 编辑器类型，如 jetbrains、vscode 等)\n  └─ `update_time` (datetime, 注释: 数据更新时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n\n### 表名: `ods_telemetry.lingma_coding_info`\n**包含字段:**\n  └─ `uuid` (varchar, 注释: 编码行为唯一标识)\n  └─ `user_id` (varchar, 注释: 用户 ID)\n  └─ `display_name` (varchar, 注释: 用户LDAP账号名)\n  └─ `language` (varchar, 注释: 语言，如 java、python 等)\n  └─ `lines_accepted` (int, 注释: 代码采纳行数)\n  └─ `lines_changed` (int, 注释: 代码变更行数)\n  └─ `ai_lines_rate` (decimal, 注释: AI生成代码行数占比)\n  └─ `update_time` (datetime, 注释: 数据更新时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n\n### 表名: `ods_telemetry.lingma_completion_info`\n**包含字段:**\n  └─ `uuid` (varchar, 注释: 代码补全行为唯一标识)\n  └─ `user_id` (varchar, 注释: 用户 ID)\n  └─ `display_name` (varchar, 注释: 用户LDAP账号名)\n  └─ `language` (varchar, 注释: 语言，如 java、python 等)\n  └─ `ide` (varchar, 注释: IDE 编辑器类型，如 jetbrains、vscode 等)\n  └─ `count_accepted` (int, 注释: 采纳次数)\n  └─ `count_suggested` (int, 注释: 推荐次数)\n  └─ `lines_accepted` (int, 注释: 代码采纳行数)\n  └─ `lines_suggested` (int, 注释: 代码推荐行数)\n  └─ `ai_accept_rate_count` (decimal, 注释: 基于次数的AI采纳率)\n  └─ `ai_accept_rate_lines` (decimal, 注释: 基于行数的AI采纳率)\n  └─ `update_time` (datetime, 注释: 数据更新时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n\n### 表名: `ods_telemetry.lingma_developer_members`\n**包含字段:**\n  └─ `user_id` (varchar, 注释: 用户 ID)\n  └─ `user_name` (varchar, 注释: 用户实际姓名)\n  └─ `display_name` (varchar, 注释: 用户LDAP账号名)\n  └─ `gmt_create` (datetime, 注释: 创建时间（UTC 时间戳）)\n  └─ `member_id` (varchar, 注释: 开发者成员 ID)\n  └─ `status` (char, 注释: 激活状态，Y 表示已激活，N 表示未激活)\n\n### 表名: `ods_telemetry.lingma_feedbacks_info`\n**包含字段:**\n  └─ `id` (int, 注释: 反馈 ID)\n  └─ `userId` (varchar, 注释: 用户 ID)\n  └─ `organizationId` (varchar, 注释: 企业 ID)\n  └─ `requestId` (varchar, 注释: 请求 ID)\n  └─ `sessionId` (varchar, 注释: 会话 ID)\n  └─ `gmtCreate` (datetime, 注释: 创建时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n  └─ `gmtModified` (datetime, 注释: 修改时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n  └─ `adviceText` (varchar, 注释: 用户输入反馈建议文本)\n  └─ `chatTask` (varchar, 注释: 当前会话的任务类型)\n  └─ `checkBoxItems` (varchar, 注释: 复选框勾选情况结构体（JSON字符串）)\n  └─ `context` (varchar, 注释: 用户提问上下文记录（用户勾选上传）)\n  └─ `deleted` (tinyint, 注释: 是否删除，0表示未删除，1表示删除)\n\n### 表名: `ods_telemetry.lingma_statistics_info`\n**包含字段:**\n  └─ `uuid` (varchar, 注释: 统计 ID)\n  └─ `user_id` (varchar, 注释: 用户 ID)\n  └─ `display_name` (varchar, 注释: 用户LDAP账号名)\n  └─ `statusActive` (varchar, 注释: 该用户是否活跃)\n  └─ `statusActiveChat` (varchar, 注释: 该用户是否活跃在问答)\n  └─ `statusActiveCompletion` (varchar, 注释: 该用户是否活跃在代码生成)\n  └─ `statusActiveLastedTime` (datetime, 注释: 该用户当天最后的活跃时刻（格式：HH:mm:ss 或时间戳）)\n  └─ `totalChatTurns` (int, 注释: 该用户当天问答次数)\n  └─ `totalLinesChanged` (int, 注释: 该用户当天变更代码行数)\n  └─ `totalLinesAccepted` (int, 注释: 该用户当天采纳代码行数)\n  └─ `update_time` (datetime, 注释: 数据更新时间（UTC，格式：YYYY-MM-DD HH:MM:SS）)\n",
			"createdAt":1764746138971,
			"domainId":"domain_1764729263985",
			"enabled":true,
			"id":"template_1764746138971",
			"name":"小金灵码数据库schema",
			"updatedAt":1764746138971
		},
		{
			"content":"请你帮我分析GPU服务器的硬件数据，结合每台服务器的ip，总显存、已用显存，以及服务器中每张GPU的当前温度、功耗、显存使用率等数据分析\n-如果有服务器的总显存占用超过90%，请指出\n-如果有显卡当前无显存占用，请指出\n-如果有显卡的温度或实时功耗明显异常，请指出",
			"createdAt":1764746239143,
			"domainId":"domain_1764746416220",
			"enabled":true,
			"id":"template_1764746239143",
			"name":"大模型硬件健康监测分析模板",
			"updatedAt":1764746465423
		},
		{
			"content":"你是一名智能应用优化顾问，请你查询最近7天的各应用模型调用数据，包含应用调用量、平均延迟（秒）和主要使用的模型等。提出具体的优化建议。\n优化方向可以包括但不限于：\n-性能优化（降低延迟、提升响应速度）\n-成本优化（合理分配调用量，模型选择）\n-用户体验优化（避免因高延迟影响体验）\n-资源管理（是否需要扩展、缓存或负载均衡）",
			"createdAt":1764746344889,
			"domainId":"domain_1764746416220",
			"enabled":true,
			"id":"template_1764746344889",
			"name":"大模型服务优化模板",
			"updatedAt":1764746469921
		},
		{
			"content":"你是一名智能应用优化顾问，请你查询当前每个应用使用过的模型及使用次数，分析如果{model_name}近期将要下线，会对哪些应用产生较大影响。",
			"createdAt":1764746398415,
			"domainId":"domain_1764746416220",
			"enabled":true,
			"id":"template_1764746398415",
			"name":"模型下线影响分析模板",
			"updatedAt":1764746424268
		}
	]
}